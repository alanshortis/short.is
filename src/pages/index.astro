---
import { getCollection } from 'astro:content';
import Base from '../layouts/base.astro';
import { PostDate, ReadingList } from '../components';

const collection = await getCollection('posts');
const sortedPosts = collection.sort((a, b) => b.data.pubDate.localeCompare(a.data.pubDate));
---

<Base pageTitle="Alan Shortis">
  <h1>Alan Shortis</h1>
  <div>
    {
      sortedPosts.map(post => (
        <article>
          <a href={`/writing/${post.slug}`}>
            <h1>{post.data.title}</h1>
            <PostDate date={post.data.pubDate} />
          </a>
        </article>
      ))
    }
  </div>
  <ReadingList />
</Base>
